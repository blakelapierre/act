{"version":3,"sources":["cli.js"],"names":["compile","html","vdom","stdin","stdout","rl","createInterface","input","output","on","line","prompt","l","console","log","code","result","root","e"],"mappings":";;;;;;AAAA;;;;AAEA;;;;;;cAE8B,sBAAO,GAAP,C;IAAvBA,O,WAAAA,O;IAASC,I,WAAAA,I;IAAMC,I,WAAAA,I;;kBAEP,gBAAqB;AAAA,MAAnBC,KAAmB,QAAnBA,KAAmB;AAAA,MAAZC,MAAY,QAAZA,MAAY;;AAClC,MAAMC,KAAK,mBAASC,eAAT,CAAyB,EAACC,OAAOJ,KAAR,EAAeK,QAAQJ,MAAvB,EAAzB,CAAX;;AAEAC,KAAGI,EAAH,CAAM,MAAN,EAAcC,IAAd;;AAEAL,KAAGM,MAAH;AACD,C;;AAED,SAASD,IAAT,CAAcE,CAAd,EAAiB;AACf,MAAIA,MAAM,EAAV,EAAc,OAAOC,QAAQC,GAAR,CAAY,WAAZ,CAAP;;AAEd,MAAI;AAAA,mBACad,QAAQY,CAAR,CADb;AAAA,QACKG,IADL,YACKA,IADL;;AAEFF,YAAQC,GAAR,CAAY,GAAZ,EAAiBC,IAAjB;;AAFE,gBAGqBb,KAAKa,IAAL,CAHrB;AAAA,QAGKC,MAHL,SAGKA,MAHL;AAAA,QAGaC,IAHb,SAGaA,IAHb;;AAIFJ,YAAQC,GAAR,CAAY,EAACE,cAAD,EAAZ;AACAH,YAAQC,GAAR,CAAY,EAACG,UAAD,EAAZ;;AAEAJ,YAAQC,GAAR,CAAY,MAAZ,EAAoBb,KAAKgB,IAAL,CAApB;AACD,GARD,CASA,OAAOC,CAAP,EAAU;AAAEL,YAAQC,GAAR,CAAY,GAAZ,EAAiBI,CAAjB;AAAsB;AACnC","file":"cli.js","sourcesContent":["import readline from 'readline';\n\nimport custom from './custom';\n\nconst {compile, html, vdom} = custom('b');\n\nexport default ({stdin, stdout}) => {\n  const rl = readline.createInterface({input: stdin, output: stdout});\n\n  rl.on('line', line);\n\n  rl.prompt();\n};\n\nfunction line(l) {\n  if (l === '') return console.log('No input!');\n\n  try {\n    const {code} = compile(l);\n    console.log('c', code);\n    const {result, root} = vdom(code);\n    console.log({result});\n    console.log({root});\n\n    console.log('html', html(root));\n  }\n  catch (e) { console.log('E', e); }\n}"]}